import{j as e,a as r}from"./app-BJWxfJnb.js";import{u as g}from"./useTrans-BkTq1qdy.js";import{S as j,A as s}from"./SelectableTable-DKvryV5n.js";import{S as _}from"./SearchBar-ClVH_A_m.js";function k({emails:l,queryParams:n}){const{t}=g(),i=a=>{confirm(t("confirm_delete_draft_permanently"))&&r.delete(route("user.email-agent.response.delete-draft",a),{preserveState:!0,preserveScroll:!0})},o=a=>{r.patch(route("user.email-agent.response.send-draft",a),{},{preserveState:!0,preserveScroll:!0})},c=async a=>{r.delete(route("user.email-agent.response.bulk.delete-drafts"),{data:{ids:a},preserveState:!0,preserveScroll:!0})},d=async a=>{r.patch(route("user.email-agent.response.bulk.send-drafts"),{ids:a},{preserveState:!0,preserveScroll:!0})},f=[{label:t("send_drafts"),icon:"fa-solid fa-paper-plane",handler:d,variant:"green",requiresConfirmation:!0,confirmMessageKey:"confirm_send_drafts"},{label:t("delete_drafts"),icon:"fa-solid fa-trash-can",handler:c,variant:"delete",requiresConfirmation:!0,confirmMessageKey:"confirm_delete_drafts"}],m=[{field:"row_number",label:t("serial"),icon:"fa-hashtag"},{field:"to_email",label:t("to"),icon:"fa-user"},{field:"from_email",label:t("from"),icon:"fa-user"},{field:"created_at",label:t("created_at"),icon:"fa-calendar"},{field:"actions",label:t("actions"),icon:"fa-gear",className:"flex justify-center"}],x=[{field:"to_email",label:t("to")},{field:"from_email",label:t("from")},{field:"created_at",label:t("created_at")}],u=a=>e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-neutral-900 dark:text-neutral-100",children:a.row_number}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:a.to_name||a.to_email})]}),a.to_name&&e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 mx-6",children:a.to_email})]})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:a.from_name||a.from_email})]}),a.from_name&&e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 mx-6",children:a.from_email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 dark:text-neutral-400",children:new Date(a.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(s,{href:route("user.email-agent.view",a.message.id),variant:"info",icon:"fa-eye",size:"xs",as:"a",children:t("view")}),e.jsx(s,{onClick:()=>o(a.id),variant:"success",icon:"fa-paper-plane",size:"xs",as:"button",children:t("send")}),e.jsx(s,{onClick:()=>i(a.id),variant:"delete",icon:"fa-trash-can",size:"xs",as:"button",children:t("delete")})]})})]}),p=(a,b,h)=>h?"":"bg-yellow-50 dark:bg-yellow-900/20 hover:bg-yellow-100 dark:hover:bg-yellow-800/30";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h2",{className:"text-2xl font-bold leading-tight text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-file text-yellow-500"})," ",t("draft_emails")]})}),e.jsx("div",{className:"mb-4",children:e.jsx(_,{placeholder:t("search"),defaultValue:n.search||"",queryKey:"search",routeName:"user.email-agent.draft.emails",icon:"fa-magnifying-glass",pageParam:"draft_page"})}),e.jsx(j,{columns:m,data:l.data,renderRow:u,pagination:l,routeName:"user.email-agent.draft.emails",sortOptions:x,defaultSortField:"created_at",defaultSortDirection:"desc",getRowClassName:p,bulkActions:f,pageParam:"draft_page"})]})}export{k as default};
