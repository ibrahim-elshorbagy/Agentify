import{j as a,a as r}from"./app-COEVzwjw.js";import{u as S}from"./useTrans-BkTq1qdy.js";import{S as N,A as s}from"./SelectableTable-CUwY-7Gk.js";import{S as y}from"./SearchBar-CLDmRw-u.js";function A({emails:l,queryParams:n}){const{t}=S(),o=e=>{r.patch(route("user.email-agent.toggle-star",e),{},{preserveState:!0,preserveScroll:!0})},i=e=>{r.patch(route("user.email-agent.toggle-read",e),{},{preserveState:!0,preserveScroll:!0})},c=e=>{r.patch(route("user.email-agent.move-to-spam",e),{},{preserveState:!0,preserveScroll:!0})},d=e=>{r.patch(route("user.email-agent.move-to-bin",e),{},{preserveState:!0,preserveScroll:!0})},u=async e=>{r.patch(route("user.email-agent.bulk.mark-read"),{ids:e},{preserveState:!0,preserveScroll:!0})},m=async e=>{r.patch(route("user.email-agent.bulk.mark-unread"),{ids:e},{preserveState:!0,preserveScroll:!0})},x=async e=>{r.patch(route("user.email-agent.bulk.star"),{ids:e},{preserveState:!0,preserveScroll:!0})},f=async e=>{r.patch(route("user.email-agent.bulk.unstar"),{ids:e},{preserveState:!0,preserveScroll:!0})},p=async e=>{r.patch(route("user.email-agent.bulk.move-to-spam"),{ids:e},{preserveState:!0,preserveScroll:!0})},h=async e=>{r.patch(route("user.email-agent.bulk.move-to-bin"),{ids:e},{preserveState:!0,preserveScroll:!0})},v=[{label:t("mark_as_read"),icon:"fa-solid fa-envelope-open",handler:u,variant:"green"},{label:t("mark_as_unread"),icon:"fa-solid fa-envelope",handler:m,variant:"green"},{label:t("add_star"),icon:" fa-solid fa-star ",handler:x,variant:"green"},{label:t("remove_star"),icon:" fa-star fa-regular ",handler:f,variant:"green"},{label:t("move_to_spam"),icon:"fa-solid fa-exclamation-circle",handler:p,variant:"yellow",requiresConfirmation:!0,confirmMessageKey:"confirm_move_to_spam"},{label:t("move_to_bin"),icon:"fa-solid fa-trash-can",handler:h,variant:"delete",requiresConfirmation:!0,confirmMessageKey:"confirm_move_to_bin"}],b=[{field:"row_number",label:t("serial"),icon:"fa-hashtag"},{field:"from",label:t("from"),icon:"fa-user"},{field:"subject",label:t("subject"),icon:"fa-envelope"},{field:"received_at",label:t("received_at"),icon:"fa-calendar"},{field:"actions",label:t("actions"),icon:"fa-gear",className:"flex justify-center"}],g=[{field:"from_email",label:t("from")},{field:"subject",label:t("subject")},{field:"received_at",label:t("received_at")},{field:"created_at",label:t("created_at")},{field:"is_starred",label:t("starred")},{field:"is_read",label:t("read")}],_=e=>a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-neutral-900 dark:text-neutral-100",children:e.row_number}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-user text-blue-500"}),a.jsx("span",{className:`text-sm font-medium text-neutral-900 dark:text-neutral-100 ${e.is_read?"font-normal":"font-bold"}`,children:e.from_name||e.from_email})]}),e.from_name&&a.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 mx-6",children:e.from_email})]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-envelope text-green-500"}),a.jsx("span",{className:`text-sm text-neutral-900 dark:text-neutral-100 truncate max-w-xs ${e.is_read?"font-normal":"font-bold"}`,children:e.subject})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 dark:text-neutral-400",children:new Date(e.received_at||e.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>o(e.id),className:"hover:scale-110 transition-transform duration-200",children:e.is_starred?a.jsx("i",{className:"fa-solid fa-star text-yellow-500 text-lg hover:text-yellow-600"}):a.jsx("i",{className:"fa-regular fa-star text-gray-400 text-lg hover:text-yellow-500"})}),a.jsx("button",{onClick:()=>i(e.id),className:"hover:scale-110 transition-transform duration-200",title:e.is_read?t("mark_as_unread"):t("mark_as_read"),children:e.is_read?a.jsx("i",{className:"fa-solid fa-envelope-open text-blue-500 text-lg hover:text-blue-600"}):a.jsx("i",{className:"fa-solid fa-envelope text-green-500 text-lg hover:text-green-600"})}),a.jsx(s,{href:route("user.email-agent.view",e.id),variant:"info",icon:"fa-eye",size:"xs",as:"a",children:t("view")}),a.jsx(s,{onClick:()=>c(e.id),variant:"delete",icon:"fa-exclamation-circle",size:"xs",as:"button",children:t("spam")}),a.jsx(s,{onClick:()=>d(e.id),variant:"delete",icon:"fa-trash-can",size:"xs",as:"button",children:t("bin")})]})})]}),j=(e,w,k)=>k?"":e.is_read?"bg-neutral-50 dark:bg-neutral-900 hover:bg-neutral-100 dark:hover:bg-neutral-700":"bg-white dark:bg-neutral-800 hover:bg-blue-100/10 dark:hover:bg-blue-100/10";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h2",{className:"text-2xl font-bold leading-tight text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-inbox text-blue-500"})," ",t("inbox_emails")]})}),a.jsx("div",{className:"mb-4",children:a.jsx(y,{placeholder:t("search"),defaultValue:n.search||"",queryKey:"search",routeName:"user.email-agent.inbox.emails",icon:"fa-magnifying-glass",pageParam:"inbox_page"})}),a.jsx(N,{columns:b,data:l.data,renderRow:_,pagination:l,routeName:"user.email-agent.inbox.emails",sortOptions:g,defaultSortField:"created_at",defaultSortDirection:"desc",getRowClassName:j,bulkActions:v,pageParam:"inbox_page"})]})}export{A as default};
