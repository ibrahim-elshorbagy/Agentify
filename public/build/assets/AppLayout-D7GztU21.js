import{j as e,L as h,r as d,b as f,a as j}from"./app-CqisGYun.js";import{u as g}from"./useTrans-BkTq1qdy.js";import{A as w}from"./ApplicationLogo-BSflFX6D.js";import{T as S}from"./Toastify-CPyEYTXA.js";function $({href:o,active:i,icon:r,children:l}){return e.jsxs(h,{href:o,className:`flex items-center rounded-xl gap-2 px-2 py-1.5 text-sm text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100 ${i?"bg-green-500/10 text-black dark:bg-green-400/10 dark:text-neutral-100":""}`,children:[r&&e.jsx("i",{className:`fa-solid ${r} shrink-0`}),e.jsx("span",{children:l})]})}function _({href:o,active:i,children:r,badge:l,icon:s}){return e.jsx("li",{className:"px-1 py-0.5",children:e.jsxs(h,{href:o,className:`flex items-center rounded-xl gap-2 px-2 py-1.5 text-sm text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100 ${i?"bg-green-500/10 text-black dark:bg-green-400/10 dark:text-neutral-100":""}`,children:[s&&e.jsx("i",{className:`fa-solid ${s} shrink-0 text-xs`}),e.jsx("span",{children:r}),l&&e.jsx("span",{className:"ml-auto font-bold",children:l})]})})}function N({item:o}){const i=t=>t.some(a=>{if(a.folder){if(route().current(a.route)&&route().params.folder===a.folder)return!0}else if(route().current(a.route)||route().current(a.route+".*"))return!0;return a.submenu?i(a.submenu):!1}),r=i(o.submenu),l=route().current(o.route),[s,u]=d.useState(r||l||o.active||!1);return d.useEffect(()=>{(r||l)&&u(!0)},[r,l]),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{type:"button",onClick:()=>u(t=>!t),className:`flex items-center justify-between rounded-xl gap-2 px-2 py-1.5 text-sm font-medium underline-offset-2 focus:outline-hidden focus-visible:underline ${s||r||l?"text-black bg-green-500/10 dark:text-neutral-100 dark:bg-green-400/10":"text-neutral-800 hover:bg-green-500/5 hover:text-black dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100"}`,children:[e.jsx("i",{className:`fa-solid ${o.icon} shrink-0`}),e.jsx("span",{className:"ltr:mr-auto ltr:text-left rtl:ml-auto rtl:text-right",children:o.name}),e.jsx("i",{className:`fa-solid fa-chevron-down transition-transform shrink-0 ${s?"rotate-180":"rotate-0"}`})]}),s&&e.jsx("ul",{className:"flex flex-col gap-0.5 mt-1",children:o.submenu.map((t,a)=>{const m=t.folder?route().current(t.route)&&route().params.folder===t.folder:route().current(t.route)||route().current(t.route+".*");return t.submenu?e.jsx("li",{children:e.jsx(N,{item:t})},`${t.route}-${t.name}-${a}`):e.jsx(_,{href:t.href,active:m,icon:t.icon,children:t.name},`${t.route}-${t.name}-${t.folder||"no-folder"}-${a}`)})})]})}function L({className:o=""}){const{t:i}=g(),[r,l]=d.useState(()=>typeof window<"u"?localStorage.theme==="dark"||localStorage.theme==="light"?localStorage.theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light");d.useEffect(()=>{const a=window.document.documentElement;r==="dark"?(a.classList.add("dark"),localStorage.theme="dark"):r==="light"?(a.classList.remove("dark"),localStorage.theme="light"):(window.matchMedia("(prefers-color-scheme: dark)").matches?a.classList.add("dark"):a.classList.remove("dark"),localStorage.removeItem("theme"))},[r]);const s=()=>{l(a=>a==="light"?"dark":"light")},u=()=>r==="dark"?"fa-moon":"fa-sun",t=()=>i(r==="dark"?"dark_mode":"light_mode");return e.jsxs("button",{onClick:s,className:`flex items-center gap-2 text-neutral-700 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-100 ${o}`,"aria-label":`Toggle to ${r==="dark"?"light":"dark"} theme`,title:`Switch to ${r==="dark"?"light":"dark"} mode`,children:[e.jsx("i",{className:`fa-solid ${u()}`}),e.jsx("span",{children:t()})]})}function E({className:o=""}){const{t:i}=g(),{locale:r}=f().props,l=()=>i(r==="en"?"arabic":"english"),s=()=>"fa-language",u=f();return e.jsxs("form",{action:route("locale.change"),method:"POST",style:{display:"inline"},children:[e.jsx("input",{type:"hidden",name:"_token",value:u.props.csrf_token}),e.jsx("input",{type:"hidden",name:"locale",value:r==="en"?"ar":"en"}),e.jsxs("button",{type:"submit",className:`flex items-center gap-2 text-neutral-700 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-100 ${o}`,"aria-label":`Toggle to ${r==="en"?"Arabic":"English"} language`,title:`Switch to ${r==="en"?"Arabic":"English"}`,children:[e.jsx("i",{className:`fa-solid ${s()}`}),e.jsx("span",{children:l()})]})]})}function y(){const{t:o}=g(),{auth:i,impersonate_admin_id:r}=f().props,[l,s]=d.useState(!1),u=d.useRef(null);d.useEffect(()=>{const a=x=>{x.key==="Escape"&&s(!1)},m=x=>{u.current&&!u.current.contains(x.target)&&s(!1)};if(l)return document.addEventListener("keydown",a),document.addEventListener("mousedown",m),()=>{document.removeEventListener("keydown",a),document.removeEventListener("mousedown",m)}},[l]);const t=()=>{j.post(route("logout"),{},{preserveScroll:!0})};return e.jsxs("div",{className:"mt-auto relative",ref:u,children:[e.jsxs("button",{type:"button",className:`flex w-full min-w-[200px] items-center rounded-xl gap-2 p-2 text-left text-neutral-800 hover:bg-green-500/5 hover:text-black focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500 dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100 dark:focus-visible:outline-green-400 ${l?"bg-green-500/10 dark:bg-green-400/10":""}`,"aria-haspopup":"true","aria-expanded":l,onClick:()=>s(a=>!a),children:[i.user?.image_url?e.jsx("div",{className:"size-8 rounded-xl overflow-hidden flex items-center justify-center",children:e.jsx("img",{src:i.user.image_url,alt:i.user.name,className:"h-full w-full object-cover"})}):e.jsx("div",{className:"size-8 rounded-xl bg-green-500 flex items-center justify-center text-white font-semibold",children:i.user?.name?.[0]?.toUpperCase()||"?"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-black dark:text-neutral-100",children:i.user?.name||"Guest"}),e.jsx("span",{className:"sr-only",children:"profile settings"})]}),e.jsx("i",{className:"fa-solid fa-chevron-right rtl:mr-auto ltr:ml-auto shrink-0 ltr:rotate-90 rtl:rotate-90 ltr:md:rotate-0 rtl:md:rotate-180","aria-hidden":"true"})]}),l&&e.jsxs("div",{className:"absolute w-full md:w-48  md:bottom-0 ltr:md:right-[-195px] rtl:md:left-[-195px] z-[500]   border divide-y divide-neutral-300 border-neutral-300 bg-neutral-100 dark:divide-neutral-700 dark:border-neutral-700 dark:bg-neutral-800 rounded-xl",role:"menu",children:[e.jsx("div",{className:"flex flex-col py-1.5",children:e.jsxs(h,{href:route("profile.edit"),className:"flex items-center gap-2 px-2 py-1.5 text-sm font-medium text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100",role:"menuitem",children:[e.jsx("i",{className:"fa-solid fa-user shrink-0","aria-hidden":"true"}),e.jsx("span",{children:o("profile")})]})}),e.jsx("div",{className:"flex flex-col py-1.5",children:e.jsx(L,{className:"w-full justify-start px-2 py-1.5 text-sm font-medium text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100"})}),e.jsx("div",{className:"flex flex-col py-1.5",children:e.jsx(E,{className:"w-full justify-start px-2 py-1.5 text-sm font-medium text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100"})}),r&&e.jsx("div",{className:"flex flex-col py-1.5",children:e.jsxs("button",{onClick:()=>j.post(route("admin.return_to_admin"),{},{preserveScroll:!0}),className:"flex items-center gap-2 px-2 py-1.5 text-sm font-medium text-blue-800 underline-offset-2 hover:bg-blue-500/10 hover:text-blue-900 focus-visible:underline focus:outline-hidden dark:text-blue-300 dark:hover:bg-blue-400/10 dark:hover:text-blue-100",role:"menuitem",children:[e.jsx("i",{className:"fa-solid fa-user-shield shrink-0","aria-hidden":"true"}),e.jsx("span",{children:o("return_to_admin")})]})}),e.jsx("div",{className:"flex flex-col py-1.5",children:e.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-2 py-1.5 text-sm font-medium text-neutral-800 underline-offset-2 hover:bg-green-500/5 hover:text-black focus-visible:underline focus:outline-hidden dark:text-neutral-300 dark:hover:bg-green-400/5 dark:hover:text-neutral-100",role:"menuitem",children:[e.jsx("i",{className:"fa-solid fa-right-from-bracket shrink-0","aria-hidden":"true"}),e.jsx("span",{children:o("sign_out")})]})})]})]})}function T({sidebarIsOpen:o,setSidebarIsOpen:i}){const{t:r}=g(),{auth:l}=f().props,[s,u]=d.useState(""),t=d.useRef(),a=l.roles||[],m=[{name:r("subscription"),icon:"fa-credit-card",href:route("user.subscription"),route:"user.subscription",role:"user"},{name:r("user_management"),icon:"fa-users",route:"admin.users.*",role:"admin",submenu:[{name:r("users"),href:route("admin.users.index"),route:"admin.users.*",icon:"fa-user"}]},{name:r("plan_management"),icon:"fa-tags",route:"admin.plans.*",role:"admin",submenu:[{name:r("plans"),href:route("admin.plans.index"),route:"admin.plans.*",icon:"fa-tag"}]},{name:r("email_agent"),icon:"fa-envelope",route:"user.email-agent.*",role:"user",submenu:[{name:r("qna"),href:route("user.qna-agent.chat"),route:"user.qna-agent.*",icon:"fa-comments"},{name:r("inbox"),href:route("user.email-agent.emails",{folder:"inbox"}),route:"user.email-agent.emails",icon:"fa-inbox",folder:"inbox"},{name:r("spam"),href:route("user.email-agent.emails",{folder:"spam"}),route:"user.email-agent.emails",icon:"fa-exclamation-circle",folder:"spam"},{name:r("bin"),href:route("user.email-agent.emails",{folder:"bin"}),route:"user.email-agent.emails",icon:"fa-trash",folder:"bin"},{name:r("starred"),href:route("user.email-agent.emails",{folder:"starred"}),route:"user.email-agent.emails",icon:"fa-star",folder:"starred"},{name:r("archive"),href:route("user.email-agent.emails",{folder:"archive"}),route:"user.email-agent.emails",icon:"fa-archive",folder:"archive"},{name:r("labels"),icon:"fa-tags",route:"user.email-agent.labels.*",submenu:[{name:r("promotions"),href:route("user.email-agent.emails",{folder:"promotions"}),route:"user.email-agent.emails",icon:"fa-bullhorn",folder:"promotions"},{name:r("social"),href:route("user.email-agent.emails",{folder:"social"}),route:"user.email-agent.emails",icon:"fa-users",folder:"social"},{name:r("personal"),href:route("user.email-agent.emails",{folder:"personal"}),route:"user.email-agent.emails",icon:"fa-user",folder:"personal"},{name:r("clients"),href:route("user.email-agent.emails",{folder:"clients"}),route:"user.email-agent.emails",icon:"fa-handshake",folder:"clients"},{name:r("team"),href:route("user.email-agent.emails",{folder:"team"}),route:"user.email-agent.emails",icon:"fa-users-cog",folder:"team"},{name:r("finance"),href:route("user.email-agent.emails",{folder:"finance"}),route:"user.email-agent.emails",icon:"fa-dollar-sign",folder:"finance"},{name:r("hr"),href:route("user.email-agent.emails",{folder:"hr"}),route:"user.email-agent.emails",icon:"fa-user-tie",folder:"hr"},{name:r("other"),href:route("user.email-agent.emails",{folder:"other"}),route:"user.email-agent.emails",icon:"fa-folder",folder:"other"}]},{name:r("auto_settings"),href:route("settings.index"),route:"settings.*",icon:"fa-gear"}]},{name:r("report_agent"),icon:"fa-chart-bar",route:"user.report-agent.*",role:"user",submenu:[{name:r("chat"),href:route("user.report-agent.chat"),route:"user.report-agent.chat*",icon:"fa-comments"},{name:r("files"),href:route("user.report-agent.files"),route:"user.report-agent.files*",icon:"fa-folder"}]},{name:r("hr_agent"),icon:"fa-users",route:"user.hr-agent.*",role:"user",submenu:[{name:r("candidates"),href:route("user.hr-agent.index"),route:"user.hr-agent.*",icon:"fa-user-tie"}]}],x=n=>n.role?a.includes(n.role):!0,p=d.useMemo(()=>m.filter(n=>x(n)),[m,a]),b=d.useMemo(()=>{if(!s)return[];const n=s.toLowerCase().trim(),v=[];return p.forEach(c=>{c.submenu?c.submenu.forEach(k=>{v.push({...k,parent:c.name,parentIcon:c.icon,icon:k.icon||c.icon})}):v.push(c)}),v.filter(c=>c.name.toLowerCase().includes(n)||c.parent&&c.parent.toLowerCase().includes(n))},[s,p]);return e.jsxs("nav",{className:`fixed left-0 z-30 flex min-h-svh w-60 shrink-0 flex-col border-r border-neutral-300 bg-neutral-200 p-4 transition-transform duration-300 md:w-64 md:translate-x-0 md:relative dark:border-neutral-700 dark:bg-neutral-900 ${o?"translate-x-0":"-translate-x-60"}`,"aria-label":"sidebar navigation",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(h,{href:route("home"),className:"ml-2 w-48 text-2xl font-bold text-black dark:text-neutral-100",children:e.jsx(w,{})})}),e.jsxs("div",{className:"relative flex w-full max-w-xs flex-col gap-1 text-neutral-800 dark:text-neutral-300",children:[e.jsx("i",{className:"fa-solid fa-search absolute left-2 top-1/2 -translate-y-1/2 text-neutral-800/50 dark:text-neutral-300/50"}),e.jsx("input",{type:"search",ref:t,value:s,onChange:n=>u(n.target.value),className:"w-full border border-neutral-300 rounded-xl bg-neutral-100 px-2 py-1.5 pl-9 text-sm focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500 disabled:cursor-not-allowed disabled:opacity-75 dark:border-neutral-700 dark:bg-neutral-800/50 dark:focus-visible:outline-green-400",placeholder:r("search_navigation"),"aria-label":"Search"}),s&&b.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:b.map(n=>e.jsxs(h,{href:n.href||"#",onClick:()=>u(""),className:"flex items-center gap-3 px-3 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors first:rounded-t-lg last:rounded-b-lg",children:[e.jsx("i",{className:`fa-solid ${n.icon} shrink-0`}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:n.name}),n.parent&&e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:n.parent})]})]},n.route))}),s&&b.length===0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-lg shadow-lg z-50 px-3 py-4 text-center text-sm text-neutral-500 dark:text-neutral-400",children:r("no_results_for",{query:s})})]}),!s&&e.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto pb-6 mt-4",children:p.map(n=>n.submenu?e.jsx(N,{item:n},n.name):e.jsx($,{href:n.href,active:route().current(n.route),icon:n.icon,children:n.name},n.name))}),e.jsx(y,{})]})}function M({children:o,title:i}){const{locale:r}=f().props,{t:l}=g(),{auth:s}=f().props,[u,t]=d.useState(!1),a=()=>{t(m=>!m)};return e.jsxs("div",{className:"font-sans antialiased",dir:r==="ar"?"rtl":"ltr",children:[e.jsxs("div",{className:" bg-gray-100 dark:bg-neutral-800 min-h-[100vh]",children:[e.jsxs("nav",{className:"md:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 sticky top-0 z-40",children:[e.jsx("button",{type:"button",className:"p-2 rounded-lg text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50 dark:text-neutral-300 dark:hover:text-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":l("open_sidebar"),onClick:a,children:e.jsx("i",{className:"fa-solid fa-bars size-6"})}),e.jsx(y,{})]}),u&&e.jsx("div",{className:"fixed inset-0 z-20 bg-neutral-800/10 backdrop-blur-xs md:hidden","aria-hidden":"true",onClick:()=>t(!1),style:{transition:"opacity 0.2s"}}),e.jsxs("div",{className:"relative flex w-full flex-col md:flex-row",children:[e.jsx(T,{sidebarIsOpen:u,setSidebarIsOpen:t}),e.jsx("main",{className:"flex-1 min-h-screen w-full overflow-y-auto",children:o})]})]}),e.jsx(S,{})]})}export{M as A,L as T};
