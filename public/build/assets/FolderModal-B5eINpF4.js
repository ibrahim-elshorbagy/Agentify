import{u as N,r as m,j as a}from"./app-CvAfTYMX.js";import{u as y}from"./useTrans-BkTq1qdy.js";import{A as _}from"./AppModal-vGC80-Kd.js";import{T as w}from"./TextInput-DQGBjach.js";import{I as b,a as g}from"./InputLabel-BdUrbmik.js";import{P as E}from"./PrimaryButton-DON5oEsx.js";import{S as F}from"./SecondaryButton-D6LJtqTS.js";function B({isOpen:n,onClose:i,folder:t=null,mode:r="create"}){const{t:e}=y(),{data:c,setData:d,post:p,put:v,processing:s,errors:u,reset:o}=N({name:"",icon:"fa-folder"});m.useEffect(()=>{t&&r==="edit"?d({name:t.name||"",icon:t.icon||"fa-folder"}):r==="create"&&o()},[t,r]);const x=l=>{l.preventDefault();const j=r==="create"?"user.email-agent.folders.store":"user.email-agent.folders.update",k=r==="edit"?t.id:void 0;(r==="create"?p:v)(route(j,k),{onSuccess:()=>{o(),i()}})},f=()=>{s||(o(),i())};m.useEffect(()=>{n||o()},[n]);const h=[{value:"fa-folder",label:e("folder")},{value:"fa-briefcase",label:e("work")},{value:"fa-heart",label:e("personal")},{value:"fa-star",label:e("important")},{value:"fa-bolt",label:e("urgent")},{value:"fa-calendar",label:e("scheduled")},{value:"fa-archive",label:e("archive")},{value:"fa-bookmark",label:e("bookmarks")},{value:"fa-flag",label:e("flagged")},{value:"fa-paperclip",label:e("attachments")}];return a.jsx(_,{isOpen:n,onClose:f,title:e(r==="create"?"create_folder":"edit_folder"),icon:r==="create"?"fa-plus":"fa-edit",size:"md",className:"backdrop-blur-xl",children:a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(b,{htmlFor:"name",value:e("folder_name"),required:!0}),a.jsx(w,{id:"name",type:"text",value:c.name,onChange:l=>d("name",l.target.value),className:"rounded-2xl border-neutral-200/50 dark:border-neutral-700/50 focus:border-green-300 dark:focus:border-green-600 focus:ring-green-300 dark:focus:ring-green-600 shadow-lg",placeholder:e("folder_name_placeholder"),icon:"fa-folder",isFocused:r==="create",disabled:s,required:!0}),a.jsx(g,{message:u.name,className:"mt-2"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(b,{htmlFor:"icon",value:e("folder_icon")}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:h.map(l=>a.jsx("button",{type:"button",onClick:()=>d("icon",l.value),className:`flex flex-col items-center p-3 rounded-xl border-2 transition-all duration-200 hover:shadow-md ${c.icon===l.value?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"border-neutral-200 dark:border-neutral-700 hover:border-green-300 dark:hover:border-green-600"}`,disabled:s,title:l.label,children:a.jsx("i",{className:`fa-solid ${l.value} text-lg mb-1`})},l.value))}),a.jsx(g,{message:u.icon,className:"mt-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(F,{type:"button",onClick:f,disabled:s,className:"rounded-xl px-6 py-2.5",children:e("cancel")}),a.jsx(E,{type:"submit",icon:r==="create"?"fa-plus":"fa-save",disabled:s||!c.name.trim(),className:"rounded-xl px-6 py-2.5 shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:e(s?r==="create"?"creating":"saving":r==="create"?"create_folder":"save_changes")})]})]})})}export{B as default};
