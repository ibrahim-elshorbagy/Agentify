import{r as c,j as e}from"./app-BKrRwrrB.js";function P({id:v,label:p,onChange:a,accept:x,error:b,required:F=!1,valid:w=!1,className:S="",helperText:k="",value:d=null,keyValue:f=null,disabled:n=!1,multiple:s=!1,maxFiles:g=5,...E}){const i=c.useRef(null),[D,m]=c.useState(f?.name??null),[o,j]=c.useState(s?d||[]:null),[O,N]=c.useState(!1);c.useEffect(()=>{s?!d?.length&&i.current&&(i.current.value=""):!d&&i.current&&(i.current.value="")},[d,s]),c.useEffect(()=>{s?j(d||[]):m(f?.name??null)},[d,f,s]);const u=!!b,h=w&&!u,$=t=>{if(n)return 0;if(s){const r=Array.from(t.target.files);y(r)}else{const r=t.target.files[0];r&&(m(r.name),a&&a(r))}},y=t=>{if(!s||t.length===0)return;const r=[...o];t.forEach(l=>{r.length<g&&r.push(l)}),j(r),a&&a(r)},I=t=>{if(n||!s)return;const r=o.filter((l,B)=>B!==t);j(r),a&&a(r)},R=t=>{if(n)return 0;t.preventDefault(),N(!0)},A=t=>{t.preventDefault(),N(!1)},C=t=>{if(n)return 0;t.preventDefault(),N(!1);const r=Array.from(t.dataTransfer.files);if(s)y(r);else if(r.length>0){const l=r[0];m(l.name),a&&a(l)}},L=()=>{n||i.current?.click()};c.useEffect(()=>{s||m(f?.name??null)},[f,s]);const z=`
  ${n?"bg-gray-100 dark:bg-neutral-800 cursor-not-allowed":"bg-white dark:bg-neutral-900 cursor-pointer"}
    relative flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-lg transition-colors
    ${O?"border-green-400 bg-green-50 dark:bg-green-900/20":u?"border-red-300 hover:border-red-400 dark:border-red-600 dark:hover:border-red-500":h?"border-green-300 hover:border-green-400 dark:border-green-600 dark:hover:border-green-500":"border-neutral-300 hover:border-neutral-400 dark:border-neutral-600 dark:hover:border-neutral-500"}
  `;return e.jsxs("div",{className:`mb-4 ${S}`,children:[p&&e.jsxs("label",{htmlFor:v,className:"block mb-2 text-neutral-900 dark:text-neutral-100",children:[p," ",F&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:z,onDragOver:R,onDragLeave:A,onDrop:C,onClick:L,children:[e.jsx("input",{ref:i,id:v,type:"file",accept:x,onChange:$,className:"hidden",disabled:n,multiple:s,...E}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{children:e.jsx("i",{className:"fa-solid fa-cloud-upload-alt text-4xl text-green-500 mb-2"})})}),e.jsx("div",{className:"text-center",children:s?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:["Drag and Drop files here or"," ",e.jsx("span",{className:"underline text-green-600",children:"Choose files"})]}),e.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["You can upload up to ",g," files"]}),x&&e.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["Supported formats: ",x]})]}):D?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Selected: ",D]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Click to change file or drag and drop a new one"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:["Drag and Drop file here or"," ",e.jsx("span",{className:"underline text-green-600",children:"Choose file"})]}),x&&e.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["Supported formats: ",x]})]})})]}),h&&e.jsx("div",{className:"absolute transform -translate-y-1/2 right-3 top-1/2",children:e.jsx("i",{className:"fa-solid fa-check-circle text-green-500"})})]}),s&&o?.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:["Selected files (",o.length,"/",g,"):"]}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:o.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-file text-green-500 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate max-w-xs",children:t.name}),e.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[(t.size/(1024*1024)).toFixed(2)," MB"]})]})]}),e.jsx("button",{type:"button",onClick:l=>{l.stopPropagation(),I(r)},className:"p-1 text-neutral-400 hover:text-red-500 transition-colors",disabled:n,children:e.jsx("i",{className:"fa-solid fa-times"})})]},r))})]}),k&&!u&&!h&&e.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:k}),u&&e.jsx("div",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b}),h&&!u&&e.jsx("div",{className:"mt-1 text-sm text-green-600 dark:text-green-400",children:s?`${o?.length||0} file(s) uploaded successfully`:"File uploaded successfully"})]})}export{P as D};
