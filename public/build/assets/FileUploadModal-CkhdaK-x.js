import{r as x,u as h,j as e}from"./app-mCefLGbF.js";import{u as j}from"./useTrans-BkTq1qdy.js";import{A as g}from"./AppModal-C_7-uhjj.js";import{P as y}from"./PrimaryButton-6AElZjtJ.js";import{S as F}from"./SecondaryButton-BcifwEYN.js";import{D as S}from"./DragFileInput-9LyotcYu.js";function P({isOpen:c,onClose:o}){const{t:s}=j(),[r,a]=x.useState([]),{data:b,setData:p,post:u,processing:t,errors:i,reset:n}=h({files:[]}),f=l=>{a(l),p("files",l)},m=l=>{l.preventDefault(),u(route("user.report-agent.files.upload"),{forceFormData:!0,onSuccess:()=>{n(),a([]),o()}})},d=()=>{t||(n(),a([]),o())};return e.jsx(g,{isOpen:c,onClose:d,title:s("upload_files"),icon:"fa-upload",size:"lg",children:e.jsxs("form",{onSubmit:m,children:[e.jsx(S,{id:"file-upload",multiple:!0,maxFiles:10,accept:".pdf,.txt,.xlsx,.csv",onChange:f,value:r,disabled:t,error:i.files||i["files.0"],helperText:"PDF, TXT, XLSX, CSV "+s("files_are_supported")}),e.jsxs("div",{className:"flex items-center text-yellow-700 bg-yellow-100 px-2 py-1 rounded text-sm my-2",children:[e.jsx("i",{className:"fas fa-info-circle mx-1"}),s("this_take_15_30")]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{type:"button",onClick:d,disabled:t,children:s("cancel")}),e.jsx(y,{type:"submit",icon:"fa-upload",disabled:t||r.length===0,children:s(t?"uploading":"upload_files")})]})]})})}export{P as default};
