import{u as h,r as j,j as e}from"./app-DgLMAQZm.js";import{A as v}from"./AppModal-DY46zZLz.js";import{I as l,a as i}from"./InputLabel-DRKayQyH.js";import{T as n}from"./TextInput-C4nrLfoX.js";import{T as b}from"./TextArea-CwXvENzq.js";import{S as g}from"./SelectInput-CmAtxNHw.js";import{P as y}from"./PrimaryButton-D3sj0bHV.js";import{S as N}from"./SecondaryButton-CHcQLQVM.js";import{u as q}from"./useTrans-BkTq1qdy.js";function A({isOpen:u,onClose:d,message:s}){const{t:a}=q(),{data:m,setData:r,post:_,errors:o,reset:f,processing:c}=h({body_text:"",from_email:"",from_name:"",to_email:"",to_name:"",status:"draft",_method:"PUT"});if(j.useEffect(()=>{s&&u?r({body_text:s.body_text||"",from_email:s.from_email||"",from_name:s.from_name||"",to_email:s.to_email||"",to_name:s.to_name||"",status:s.status||"draft",_method:"PUT"}):f()},[s,u]),!s)return null;const x=t=>{t.preventDefault(),_(route("user.email-agent.update-message",s.id),{onSuccess:()=>{f(),d()}})},p=[{value:"draft",label:a("draft")},{value:"sent",label:a("sent")}];return e.jsx(v,{isOpen:u,onClose:d,title:a("edit_response"),icon:"fa-pen-to-square",size:"xl",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"from_email",value:a("from_email"),required:!0}),e.jsx(n,{id:"from_email",name:"from_email",type:"email",value:m.from_email,className:"mt-1 block w-full",onChange:t=>r("from_email",t.target.value),required:!0,icon:"fa-envelope"}),e.jsx(i,{message:o.from_email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"from_name",value:a("from_name"),required:!0}),e.jsx(n,{id:"from_name",name:"from_name",value:m.from_name,className:"mt-1 block w-full",onChange:t=>r("from_name",t.target.value),required:!0,icon:"fa-user"}),e.jsx(i,{message:o.from_name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"to_email",value:a("to_email"),required:!0}),e.jsx(n,{id:"to_email",name:"to_email",type:"email",value:m.to_email,className:"mt-1 block w-full",onChange:t=>r("to_email",t.target.value),required:!0,icon:"fa-envelope"}),e.jsx(i,{message:o.to_email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"to_name",value:a("to_name"),required:!0}),e.jsx(n,{id:"to_name",name:"to_name",value:m.to_name,className:"mt-1 block w-full",onChange:t=>r("to_name",t.target.value),required:!0,icon:"fa-user"}),e.jsx(i,{message:o.to_name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"body_text",value:a("body_text"),required:!0}),e.jsx(b,{id:"body_text",name:"body_text",value:m.body_text,className:"mt-1 block w-full",onChange:t=>r("body_text",t.target.value),required:!0,rows:6,placeholder:a("type_your_message")}),e.jsx(i,{message:o.body_text,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"status",value:a("status"),required:!0}),e.jsx(g,{name:"status",value:m.status,onChange:t=>r("status",t.target.value),options:p,icon:"fa-circle-check",required:!0}),e.jsx(i,{message:o.status,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(N,{type:"button",onClick:d,icon:"fa-xmark",rounded:"rounded-lg",disabled:c,children:a("cancel")}),e.jsx(y,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:c,children:a(c?"saving_changes":"save_changes")})]})]})})}export{A as default};
