import{r as d,u as k,j as e}from"./app-C-TJEx2m.js";import{u as b}from"./useTrans-BkTq1qdy.js";import{M as v,A as w}from"./index-CaUjwLxg.js";import{P as j}from"./PrimaryButton-C3lsc5sD.js";import{A as N}from"./ActionButton-BcyFvqEJ.js";import y from"./PredefinedQuestions-DJt6Opgx.js";function S({currentConversation:t,messages:s=[],onEditConversation:c,onToggleSidebar:i,isSidebarOpen:_=!1}){const{t:a}=b(),x=d.useRef(null),m=d.useRef(null),{data:n,setData:o,post:h,processing:l,reset:f}=k({conversation_id:t?.id||null,message:""});d.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[s]),d.useEffect(()=>{o("conversation_id",t?.id||null)},[t]);const g=r=>{r.preventDefault(),!(!n.message.trim()||!t)&&h(route("user.qna-agent.messages.send"),{preserveScroll:!0,onSuccess:()=>{f("message"),m.current?.focus()}})},u=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),g(r))},p=r=>{t&&o("message",r)};return t?e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen h-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 p-6 bg-gradient-to-r from-green-50/95 via-emerald-50/95 to-teal-50/95 dark:from-neutral-950/95 dark:via-neutral-900/95 dark:to-neutral-950/95 backdrop-blur-xl border-b border-green-200/60 dark:border-neutral-700/60 shadow-lg shadow-green-500/10 dark:shadow-neutral-800/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"xl:hidden p-3 text-white bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 dark:from-green-600 dark:to-emerald-600 dark:hover:from-green-700 dark:hover:to-emerald-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-green-500/25 transform hover:scale-105",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.955 8.955 0 01-3.774-.9L3 21l1.9-6.226A8.955 8.955 0 013 12a8 8 0 018-8c4.418 0 8 3.582 8 8z"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-green-500 via-emerald-500 to-green-600 dark:from-green-600 dark:via-emerald-600 dark:to-green-700 flex items-center justify-center shadow-xl shadow-green-500/30",children:e.jsx("i",{className:"fa-solid fa-comments text-white text-lg drop-shadow-sm"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 dark:from-green-400 dark:to-emerald-400 bg-clip-text text-transparent tracking-tight",children:t.name})})]})]}),e.jsx(N,{onClick:()=>c(t),icon:"fa-edit",variant:"success",size:"md",className:"rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:a("edit")})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 min-h-0 bg-gradient-to-b from-transparent via-green-50/20 to-transparent dark:via-green-900/10",children:[s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-green-400 via-emerald-500 to-teal-500 dark:from-green-500 dark:via-emerald-600 dark:to-teal-600 flex items-center justify-center shadow-2xl shadow-green-500/30 animate-pulse",children:e.jsx("i",{className:"fa-solid fa-robot text-4xl text-white drop-shadow-lg"})}),e.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 dark:from-green-400 dark:via-emerald-400 dark:to-teal-400 bg-clip-text text-transparent mb-4 tracking-tight",children:a("start_conversation")}),e.jsx("p",{className:"text-green-700 dark:text-green-300 leading-relaxed max-w-md mx-auto font-medium",children:a("qna_start_conversation_description")})]}):s.map(r=>e.jsx("div",{className:`flex ${r.sender_type==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:e.jsx("div",{className:`max-w-sm lg:max-w-2xl px-6 py-5 rounded-3xl min-w-0 shadow-md transition-all duration-300 hover:shadow-lg transform hover:scale-[1.01] ${r.sender_type==="user"?"bg-gradient-to-r from-emerald-50 via-green-50 to-emerald-100 text-neutral-800 border border-green-100 shadow-green-200/30 dark:from-green-500 dark:via-emerald-500 dark:to-green-600 dark:text-white dark:border-green-400/20 dark:shadow-green-500/30":"bg-gradient-to-br from-white via-emerald-50/60 to-green-50/50 dark:from-neutral-800 dark:via-neutral-750 dark:to-neutral-800 text-neutral-900 dark:text-neutral-100 border border-green-100/50 dark:border-neutral-600/40 backdrop-blur-md shadow-green-200/10 dark:shadow-neutral-800/20"}`,children:e.jsxs("div",{className:"flex items-start gap-4 min-w-0",children:[r.sender_type==="ai"&&e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-br from-emerald-400 via-green-500 to-teal-500 dark:from-green-500 dark:via-emerald-600 dark:to-teal-600 flex items-center justify-center shadow-md",children:e.jsx("i",{className:"fa-solid fa-robot text-sm text-white drop-shadow-sm"})}),r.sender_type==="user"&&e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-2xl bg-gradient-to-br from-green-100 to-emerald-200 dark:from-green-600 dark:to-emerald-700 flex items-center justify-center shadow-sm",children:e.jsx("i",{className:"fa-solid fa-user text-sm text-emerald-700 dark:text-white drop-shadow-sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`no-tailwindcss-support-display prose prose-sm max-w-none break-words leading-relaxed ${r.sender_type==="user"?"text-green-800 dark:text-white prose-headings:text-green-900 dark:prose-headings:text-white prose-p:text-green-800 dark:prose-p:text-white prose-strong:text-green-900 dark:prose-strong:text-white prose-code:text-green-700 dark:prose-code:text-green-200 prose-a:text-green-700 dark:prose-a:text-green-300 prose-ul:text-green-800 dark:prose-ul:text-white prose-ol:text-green-800 dark:prose-ol:text-white prose-li:text-green-800 dark:prose-li:text-white":"text-neutral-800 dark:text-green-100 prose-headings:text-neutral-900 dark:prose-headings:text-green-50 prose-p:text-neutral-800 dark:prose-p:text-green-100 prose-strong:text-neutral-900 dark:prose-strong:text-green-50 prose-code:text-neutral-700 dark:prose-code:text-green-200 prose-a:text-green-600 dark:prose-a:text-green-400 prose-ul:text-neutral-800 dark:prose-ul:text-green-100 prose-ol:text-neutral-800 dark:prose-ol:text-green-100 prose-li:text-neutral-800 dark:prose-li:text-green-100"}`,dir:"auto",children:e.jsx("div",{className:"no-tailwindcss-support-display px-4",children:e.jsx(v,{children:r.message.replace(/\\n/g,`
`)})})}),e.jsx("p",{className:`text-xs mt-3 font-semibold ${r.sender_type==="user"?"text-green-600 dark:text-green-300":"text-green-700 dark:text-green-400"}`,children:new Date(r.created_at).toLocaleTimeString()})]})]})})},r.id)),e.jsx("div",{ref:x})]}),e.jsxs("div",{className:"flex-shrink-0 p-6 bg-gradient-to-r from-green-50/95 via-emerald-50/95 to-teal-50/95 dark:from-neutral-950/95 dark:via-neutral-900/95 dark:to-neutral-950/95 backdrop-blur-xl border-t-2 border-green-200/60 dark:border-neutral-700/60 shadow-2xl shadow-green-500/20 dark:shadow-neutral-800/30",children:[s.length===0&&e.jsx(y,{onQuestionClick:p,currentConversation:t}),e.jsxs("form",{onSubmit:g,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(w,{ref:m,value:n.message,onChange:r=>o("message",r.target.value),onKeyDown:u,placeholder:a("type_message_placeholder"),disabled:l,className:"rounded-3xl border-2 border-green-200/60 dark:border-green-700/60 focus:border-green-400 dark:focus:border-green-500 focus:ring-4 focus:ring-green-300/30 dark:focus:ring-green-600/30 shadow-lg bg-white/90 dark:bg-neutral-800/90 backdrop-blur-sm transition-all duration-300 hover:shadow-xl hover:shadow-green-500/10"})}),e.jsx(j,{type:"submit",icon:"fa-paper-plane",disabled:l||!n.message.trim(),className:"px-6 py-3 self-end mb-2 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:a(l?"sending":"send")})]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col min-h-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 p-6 bg-gradient-to-r from-green-50/95 via-emerald-50/95 to-teal-50/95 dark:from-green-900/95 dark:via-emerald-900/95 dark:to-teal-900/95 backdrop-blur-xl border-b border-green-200/60 dark:border-green-700/60 shadow-lg shadow-green-500/10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:i,className:"xl:hidden p-3 text-white bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 dark:from-green-600 dark:to-emerald-600 dark:hover:from-green-700 dark:hover:to-emerald-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-green-500/25 transform hover:scale-105",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.955 8.955 0 01-3.774-.9L3 21l1.9-6.226A8.955 8.955 0 013 12a8 8 0 018-8c4.418 0 8 3.582 8 8z"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-green-400 to-emerald-500 dark:from-green-500 dark:to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/20",children:e.jsx("i",{className:"fa-solid fa-comments text-white text-lg"})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 dark:from-green-400 dark:to-emerald-400 bg-clip-text text-transparent tracking-tight",children:a("qna_agent")})]})]})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gradient-to-b from-transparent via-green-50/20 to-transparent dark:via-green-900/10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-28 h-28 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-green-400 via-emerald-500 to-teal-500 dark:from-green-500 dark:via-emerald-600 dark:to-teal-600 flex items-center justify-center shadow-2xl shadow-green-500/30 animate-pulse",children:e.jsx("i",{className:"fa-solid fa-comments text-3xl text-white drop-shadow-lg"})}),e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 dark:from-green-400 dark:via-emerald-400 dark:to-teal-400 bg-clip-text text-transparent mb-4 tracking-tight",children:a("select_conversation")}),e.jsx("p",{className:"text-green-700 dark:text-green-300 font-medium leading-relaxed",children:a("select_conversation_description")})]})})]})}export{S as default};
