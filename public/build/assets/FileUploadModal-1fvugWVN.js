import{r as h,u as j,j as e}from"./app-C-TJEx2m.js";import{u as b}from"./useTrans-BkTq1qdy.js";import{A as g}from"./AppModal-RhFCKzg3.js";import{P as _}from"./PrimaryButton-C3lsc5sD.js";import{S as y}from"./SecondaryButton-C-O5LNO9.js";import{D as F}from"./DragFileInput-DHq8P2Vy.js";function X({isOpen:u,onClose:o,maxFileSize:i=null}){const{t:s}=b(),[r,a]=h.useState([]),{data:S,setData:m,post:p,processing:t,errors:n,reset:d}=j({files:[]}),f=l=>{a(l),m("files",l)},x=l=>{l.preventDefault(),p(route("user.report-agent.files.upload"),{forceFormData:!0,onSuccess:()=>{d(),a([]),o()}})},c=()=>{t||(d(),a([]),o())};return e.jsx(g,{isOpen:u,onClose:c,title:s("upload_files"),icon:"fa-upload",size:"lg",children:e.jsxs("form",{onSubmit:x,children:[e.jsx(F,{id:"file-upload",accept:".pdf,.txt,.xlsx,.csv",onChange:f,value:r,disabled:t,error:n.files||n["files.0"],helperText:"PDF, TXT, XLSX, CSV "+s("files_are_supported"),multiple:!0,maxFiles:1}),e.jsxs("div",{className:"flex items-center text-yellow-700 bg-yellow-100 p-2 rounded-md text-sm my-4",children:[e.jsx("i",{className:"fas fa-info-circle mx-1"}),s("this_take_15_30")]}),i&&e.jsxs("div",{className:"flex items-center text-blue-700 bg-blue-100 p-2 rounded-md text-sm my-4",children:[e.jsx("i",{className:"fas fa-info-circle mx-1"}),s("max_file_size_note",{size:i})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(y,{type:"button",onClick:c,disabled:t,children:s("cancel")}),e.jsx(_,{type:"submit",icon:"fa-upload",disabled:t||r.length===0,children:s(t?"uploading":"upload_files")})]})]})})}export{X as default};
