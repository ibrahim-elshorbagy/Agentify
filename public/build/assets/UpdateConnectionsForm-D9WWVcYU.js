import{j as e,b as i,r as o,a as v}from"./app-CqisGYun.js";import{u as _}from"./useTrans-BkTq1qdy.js";import{P as x}from"./PrimaryButton-FD842-P6.js";import w from"./EmailTestModal-BCuP9B_-.js";import"./AppModal-CEgrV8LC.js";import"./SecondaryButton-CMHQHno7.js";function u({className:c="",disabled:s,children:l,...t}){return e.jsx("button",{...t,className:`inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700 dark:focus:ring-offset-gray-800 ${s&&"opacity-25"} `+c,disabled:s,children:l})}function F({className:c=""}){const{t:s}=_();i().props.auth.user;const{flash:l}=i().props,[t,r]=o.useState(!1),{hasGmailConnected:f,hasMicrosoftConnected:g}=i().props,[a,p]=o.useState({google:f||!1,microsoft:g||!1}),[h,b]=o.useState(!1),[j,N]=o.useState(null),d=n=>{r(!0),window.location.href=route("connections.connect",{provider:n})},m=n=>{confirm(s("confirm_disconnect_provider",{provider:n==="google"?"Gmail":"Outlook"}))&&v.delete(route("connections.disconnect",{provider:n}),{onStart:()=>r(!0),onFinish:()=>r(!1),onSuccess:()=>{p(y=>({...y,[n]:!1}))}})},k=()=>{b(!1),N(null)};return e.jsxs("section",{className:c,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:s("email_connections")}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:s("connect_email_accounts_description")})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 gap-2",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:"fab fa-google text-2xl text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Gmail"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.google?s("connected"):s("not_connected")})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:a.google?e.jsx(e.Fragment,{children:e.jsx(u,{type:"button",onClick:()=>m("google"),disabled:t,icon:"fa-unlink",className:"min-w-[180px]",children:s("disconnect")})}):e.jsx(x,{type:"button",onClick:()=>d("google"),disabled:t,icon:"fa-link",className:"min-w-[180px]",children:s("connect_gmail")})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 gap-2",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:"fab fa-microsoft text-2xl text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Outlook"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.microsoft?s("connected"):s("not_connected")})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:a.microsoft?e.jsx(e.Fragment,{children:e.jsx(u,{type:"button",onClick:()=>m("microsoft"),disabled:t,icon:"fa-unlink",className:"min-w-[180px]",children:s("disconnect")})}):e.jsx(x,{type:"button",onClick:()=>d("microsoft"),disabled:t,icon:"fa-link",className:"min-w-[180px]",children:s("connect_outlook")})})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:"fas fa-info-circle text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:s("about_email_connections")}),e.jsx("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:e.jsx("p",{children:s("email_connections_description")})})]})]})}),e.jsx(w,{isOpen:h,onClose:k,emailData:j})]})}export{F as default};
