import{j as a,a as t}from"./app-BJWxfJnb.js";import{u as S}from"./useTrans-BkTq1qdy.js";import{S as N,A as s}from"./SelectableTable-DKvryV5n.js";import{S as y}from"./SearchBar-ClVH_A_m.js";function M({emails:l,queryParams:n}){const{t:r}=S(),o=e=>{t.patch(route("user.email-agent.toggle-star",e),{},{preserveState:!0,preserveScroll:!0})},i=e=>{t.patch(route("user.email-agent.toggle-read",e),{},{preserveState:!0,preserveScroll:!0})},c=e=>{t.patch(route("user.email-agent.restore",e),{},{preserveState:!0,preserveScroll:!0})},d=e=>{t.patch(route("user.email-agent.move-to-bin",e),{},{preserveState:!0,preserveScroll:!0})},u=async e=>{t.patch(route("user.email-agent.bulk.mark-read"),{ids:e},{preserveState:!0,preserveScroll:!0})},m=async e=>{t.patch(route("user.email-agent.bulk.mark-unread"),{ids:e},{preserveState:!0,preserveScroll:!0})},f=async e=>{t.patch(route("user.email-agent.bulk.star"),{ids:e},{preserveState:!0,preserveScroll:!0})},x=async e=>{t.patch(route("user.email-agent.bulk.unstar"),{ids:e},{preserveState:!0,preserveScroll:!0})},p=async e=>{t.patch(route("user.email-agent.bulk.restore"),{ids:e},{preserveState:!0,preserveScroll:!0})},h=async e=>{t.patch(route("user.email-agent.bulk.move-to-bin"),{ids:e},{preserveState:!0,preserveScroll:!0})},v=[{label:r("mark_as_read"),icon:"fa-solid fa-envelope-open",handler:u,variant:"green"},{label:r("mark_as_unread"),icon:"fa-solid fa-envelope",handler:m,variant:"green"},{label:r("add_star"),icon:" fa-solid fa-star ",handler:f,variant:"green"},{label:r("remove_star"),icon:" fa-star fa-regular ",handler:x,variant:"green"},{label:r("restore_to_inbox"),icon:"fa-solid fa-undo",handler:p,variant:"blue",requiresConfirmation:!0,confirmMessageKey:"confirm_restore_emails"},{label:r("move_to_bin"),icon:"fa-solid fa-trash-can",handler:h,variant:"delete",requiresConfirmation:!0,confirmMessageKey:"confirm_move_to_bin"}],g=[{field:"row_number",label:r("serial"),icon:"fa-hashtag"},{field:"from",label:r("from"),icon:"fa-user"},{field:"subject",label:r("subject"),icon:"fa-envelope"},{field:"received_at",label:r("received_at"),icon:"fa-calendar"},{field:"actions",label:r("actions"),icon:"fa-gear",className:"flex justify-center"}],b=[{field:"from_email",label:r("from")},{field:"subject",label:r("subject")},{field:"received_at",label:r("received_at")},{field:"created_at",label:r("created_at")},{field:"is_starred",label:r("starred")},{field:"is_read",label:r("read")}],_=e=>a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-neutral-900 dark:text-neutral-100",children:e.row_number}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-user-slash text-red-500"}),a.jsx("span",{className:`text-sm font-medium text-neutral-900 dark:text-neutral-100 ${e.is_read?"font-normal":"font-bold"}`,children:e.from_name||e.from_email})]}),e.from_name&&a.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 mx-6",children:e.from_email})]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-envelope text-red-500"}),a.jsx("span",{className:`text-sm text-neutral-900 dark:text-neutral-100 truncate max-w-xs ${e.is_read?"font-normal":"font-bold"}`,children:e.subject})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 dark:text-neutral-400",children:new Date(e.received_at||e.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>o(e.id),className:"hover:scale-110 transition-transform duration-200",children:e.is_starred?a.jsx("i",{className:"fa-solid fa-star text-yellow-500 text-lg hover:text-yellow-600"}):a.jsx("i",{className:"fa-regular fa-star text-gray-400 text-lg hover:text-yellow-500"})}),a.jsx("button",{onClick:()=>i(e.id),className:"hover:scale-110 transition-transform duration-200",title:e.is_read?r("mark_as_unread"):r("mark_as_read"),children:e.is_read?a.jsx("i",{className:"fa-solid fa-envelope-open text-blue-500 text-lg hover:text-blue-600"}):a.jsx("i",{className:"fa-solid fa-envelope text-green-500 text-lg hover:text-green-600"})}),a.jsx(s,{href:route("user.email-agent.view",e.id),variant:"info",icon:"fa-eye",size:"xs",as:"a",children:r("view")}),a.jsx(s,{onClick:()=>c(e.id),variant:"edit",icon:"fa-undo",size:"xs",as:"button",children:r("restore")}),a.jsx(s,{onClick:()=>d(e.id),variant:"delete",icon:"fa-trash-can",size:"xs",as:"button",children:r("bin")})]})})]}),j=(e,w,k)=>k?"":e.is_read?"bg-neutral-50 dark:bg-neutral-900 hover:bg-neutral-100 dark:hover:bg-neutral-700":"bg-white dark:bg-neutral-800 hover:bg-blue-100/10 dark:hover:bg-blue-100/10";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h2",{className:"text-2xl font-bold leading-tight text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle text-red-500"})," ",r("spam_emails")]})}),a.jsx("div",{className:"mb-4",children:a.jsx(y,{placeholder:r("search"),defaultValue:n.search||"",queryKey:"search",routeName:"user.email-agent.spam.emails",icon:"fa-magnifying-glass",pageParam:"spam_page"})}),a.jsx(N,{columns:g,data:l.data,renderRow:_,pagination:l,routeName:"user.email-agent.spam.emails",sortOptions:b,defaultSortField:"created_at",defaultSortDirection:"desc",getRowClassName:j,bulkActions:v,pageParam:"spam_page"})]})}export{M as default};
